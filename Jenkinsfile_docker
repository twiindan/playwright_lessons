pipeline {
   agent { docker { image 'python' } }
   stages {
      stage('Install dependencies') {
         steps {
            sh '''
                pip3 install -r requirements.txt
                python3 -m playwright install --with-deps
                '''
         }
      }
      stage('Execute tests') {
         steps {
            sh '''
                python3 -m pytest framework/test_with_faker.py --alluredir allure-results
                '''
         }
      }
   }
}